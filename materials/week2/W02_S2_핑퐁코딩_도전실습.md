# 2주차 — **파이썬 기초 ②:** 자료구조

## 세션 B: **핑퐁 코딩**(Ping-Pong Coding) + **도전 실습**(Challenge Lab)

---

## 핑퐁 코딩 규칙

1. 교수자가 코드를 시연한다. → **Ping**
2. 학생이 즉시 변형 과제를 작성한다. → **Pong**
3. 빈칸(`___`)을 직접 채워야 코드가 실행된다.
4. 정답을 먼저 보지 말고 반드시 **스스로 시도한 후** 확인한다.

---

# PART 1: **핑퐁 코딩**

---

## Ping-Pong ①: **리스트**(List) 생성 · 인덱싱 · 슬라이싱

### 🏓 Ping (교수자 시연)

```python
# 1주간 서울 기온 데이터
temps = [2, 5, -1, 3, 7, 8, 4]

print("월요일 기온:", temps[0])
print("금~일 기온:", temps[4:])
print("최고 기온:", max(temps))
print("평균 기온:", sum(temps) / len(temps))
```

### 🏸 Pong (학생 변형) — 코로나 일별 확진자 리스트 조작

아래 코드의 빈칸(`___`)을 채워 실행하라.

```python
# 7일간 코로나19 일별 확진자 수
daily_cases = [523, 681, 445, 892, 1023, 756, 634]

# 1) 첫째 날 확진자 수를 출력하라.
print("첫째 날:", ___)

# 2) 마지막 3일의 확진자 수를 슬라이싱하라.
print("마지막 3일:", ___)

# 3) 7일간 총 확진자 수를 계산하라.
print("총 확진자:", ___)

# 4) 7일간 평균 확진자 수를 계산하라.
print("평균 확진자:", ___)

# 5) 최다 확진자 수와 최소 확진자 수를 출력하라.
print("최다:", ___, "/ 최소:", ___)
```

---

## Ping-Pong ②: **리스트 메서드**(List Method) — 정렬, 추가, 삭제

### 🏓 Ping (교수자 시연)

```python
scores = [85, 92, 78, 95, 88]

# 정렬 후 상위 3개 추출
scores_sorted = sorted(scores, reverse=True)
print("상위 3개:", scores_sorted[:3])

# 새 점수 추가
scores.append(91)
print("추가 후:", scores)

# 최저점 제거
scores.remove(min(scores))
print("최저점 제거 후:", scores)
```

### 🏸 Pong (학생 변형) — 확진자 수 정렬, 상위 5일 추출

```python
# 14일간 확진자 수
cases_14days = [523, 681, 445, 892, 1023, 756, 634,
                812, 567, 934, 1105, 678, 489, 723]

# 1) 내림차순으로 정렬한 새 리스트를 만들어라.
cases_sorted = ___

# 2) 상위 5일의 확진자 수를 슬라이싱하라.
top5 = ___
print("확진자 상위 5일:", top5)

# 3) 15일차 확진자 수 850을 리스트 끝에 추가하라.
___
print("15일차 추가 후 길이:", len(cases_14days))

# 4) 최소 확진자 수를 찾아 제거하라.
min_case = ___
___
print("최소값 제거 후:", cases_14days)
```

---

## Ping-Pong ③: **딕셔너리**(Dictionary) 생성 · 접근

### 🏓 Ping (교수자 시연)

```python
# 과일별 가격
fruit_price = {"사과": 3000, "바나나": 1500, "포도": 5000}

print("사과 가격:", fruit_price["사과"])
print("모든 과일:", list(fruit_price.keys()))

# 새 항목 추가
fruit_price["딸기"] = 4000
print("추가 후:", fruit_price)

# 순회
for fruit, price in fruit_price.items():
    print(f"  {fruit}: {price}원")
```

### 🏸 Pong (학생 변형) — 국가별 확진자 수 딕셔너리 구축

```python
# 국가별 누적 확진자 수
covid_by_country = {
    "한국": 34571,
    "미국": 1850000,
    "일본": 18723,
    "영국": 312654,
    "브라질": 923189
}

# 1) 한국의 확진자 수를 출력하라.
print("한국:", ___)

# 2) 모든 국가명을 리스트로 출력하라.
print("국가 목록:", ___)

# 3) "독일"의 확진자 수 195042를 추가하라.
___

# 4) 전체 국가의 확진자 수 합계를 계산하라.
total = ___
print("전 세계 합계:", total)

# 5) 각 국가와 확진자 수를 순회하며 출력하라.
for ___, ___ in covid_by_country.items():
    print(f"  {___}: {___:,}명")
```

---

## Ping-Pong ④: **집합**(Set) 연산

### 🏓 Ping (교수자 시연)

```python
# 두 반의 수강 과목
class_A = {"수학", "영어", "과학", "체육"}
class_B = {"영어", "과학", "음악", "미술"}

print("공통 과목:", class_A & class_B)
print("A만의 과목:", class_A - class_B)
print("전체 과목:", class_A | class_B)
```

### 🏸 Pong (학생 변형) — 확진자 급증 국가 vs 감소 국가 비교

```python
# 이번 주 확진자 급증 국가
surge_countries = {"한국", "미국", "영국", "인도", "브라질"}

# 이번 주 확진자 감소 국가
decline_countries = {"일본", "독일", "미국", "영국", "호주"}

# 1) 급증이면서 동시에 감소인 국가(교집합)를 구하라.
both = ___
print("급증 & 감소 동시:", both)

# 2) 급증만 하고 감소는 아닌 국가(차집합)를 구하라.
surge_only = ___
print("급증만:", surge_only)

# 3) 두 그룹에 언급된 모든 국가(합집합)를 구하라.
all_countries = ___
print("전체 국가:", all_countries)

# 4) 한쪽에만 속하는 국가(대칭차집합)를 구하라.
exclusive = ___
print("한쪽만:", exclusive)
```

---

# PART 2: **도전 실습**(Challenge Lab)

---

## 도전 ①: 코로나19 국가별 확진자 수 관리 프로그램 (딕셔너리 활용)

아래의 요구 사항을 모두 만족하는 코드를 작성하라.

### 요구 사항

1. 다음 초기 데이터를 딕셔너리로 생성하라.

| 국가 | 확진자 수 |
|---|---|
| 한국 | 34571 |
| 미국 | 1850000 |
| 일본 | 18723 |
| 영국 | 312654 |
| 브라질 | 923189 |

2. "독일"(195042)과 "프랑스"(245673)를 추가하라.
3. 확진자 수가 가장 많은 국가와 가장 적은 국가를 출력하라.
4. 전체 평균 확진자 수를 계산하고, 평균 이상인 국가만 출력하라.
5. 결과를 f-string으로 정리하여 아래 형식으로 출력하라.

```
=== 코로나19 확진자 현황 ===
- 전체 국가 수: 7개국
- 총 확진자: 3,579,852명
- 평균 확진자: 511,407명
- 최다: 미국 (1,850,000명)
- 최소: 일본 (18,723명)
- 평균 이상 국가: 미국, 브라질
```

### 빈칸 채우기 시작 코드

```python
# 1단계: 초기 데이터 생성
covid = ___

# 2단계: 국가 추가
___
___

# 3단계: 최다·최소 국가 찾기
max_country = ___
min_country = ___

# 4단계: 평균 이상 국가 필터링
avg_cases = ___
above_avg = ___

# 5단계: 결과 출력
print("=== 코로나19 확진자 현황 ===")
print(f"- 전체 국가 수: {___}개국")
print(f"- 총 확진자: {___:,}명")
print(f"- 평균 확진자: {___:,.0f}명")
print(f"- 최다: {___} ({___:,}명)")
print(f"- 최소: {___} ({___:,}명)")
print(f"- 평균 이상 국가: {___}")
```

---

## 도전 ②: **리스트**로 7일 **이동평균**(Moving Average) 직접 계산 (NumPy 없이!)

**이동평균**이란 연속된 n일의 평균을 순차적으로 계산하는 것이다. 데이터의 단기 변동을 부드럽게 만들어 추세를 파악하는 데 사용한다.

```
시각화: 7일 이동평균 개념

원본 데이터: [100, 200, 150, 300, 250, 180, 220, 350, 280, ...]
                \_________7일________/
                          \_________7일________/
                                    \_________7일________/
7일 이동평균:     200.0           235.7           ...
```

### 요구 사항

1. 아래 21일간 확진자 데이터에 대해 7일 이동평균을 계산하라.
2. 결과를 리스트에 저장하라. (결과 리스트의 길이는 15가 되어야 한다.)
3. 이동평균이 가장 높은 구간(시작일 인덱스)을 찾아 출력하라.

```python
# 21일간 확진자 데이터
cases_21 = [523, 681, 445, 892, 1023, 756, 634,
            812, 567, 934, 1105, 678, 489, 723,
            945, 1067, 834, 612, 778, 1023, 889]

# 7일 이동평균 계산
moving_avg = []
for i in range(len(cases_21) - 6):
    window = ___              # i번째부터 7개 슬라이싱
    avg = ___                 # 평균 계산
    moving_avg.append(round(avg, 1))

print("7일 이동평균:", moving_avg)
print("이동평균 길이:", len(moving_avg))

# 이동평균이 가장 높은 구간 찾기
max_avg = ___
max_idx = ___
print(f"이동평균 최고: {max_avg} (시작일: {max_idx+1}일차)")
```

---

## 도전 ③: **빈칸 채우기** — 튜플 패킹/언패킹, 중첩 딕셔너리

### Part A: 튜플 활용

```python
# 코로나19 데이터 — (국가, 확진자, 사망자) 튜플의 리스트
covid_tuples = [
    ("한국", 34571, 247),
    ("미국", 1850000, 107175),
    ("일본", 18723, 972),
    ("영국", 312654, 43730),
    ("브라질", 923189, 45241)
]

# 1) 언패킹을 사용하여 각 국가의 치사율(사망자/확진자*100)을 계산하라.
print("=== 국가별 치사율 ===")
for ___, ___, ___ in covid_tuples:
    fatality_rate = ___
    print(f"  {___}: {fatality_rate:.2f}%")

# 2) 치사율이 가장 높은 국가를 찾아라. (힌트: max 함수와 key 활용)
highest = max(covid_tuples, key=lambda x: ___)
print(f"\n치사율 최고: {highest[0]} ({___:.2f}%)")
```

### Part B: 중첩 딕셔너리 활용

```python
# 국가별 상세 코로나 데이터
covid_detail = {
    "한국": {"확진자": 34571, "사망자": 247, "완치자": 29700},
    "미국": {"확진자": 1850000, "사망자": 107175, "완치자": 463110},
    "일본": {"확진자": 18723, "사망자": 972, "완치자": 16431}
}

# 1) 한국의 현재 치료 중인 환자 수를 계산하라.
#    (치료 중 = 확진자 - 사망자 - 완치자)
korea_active = ___
print(f"한국 치료 중: {korea_active:,}명")

# 2) 모든 국가의 완치율(완치자/확진자*100)을 출력하라.
for country, data in covid_detail.___():
    recovery_rate = ___
    print(f"  {country}: {recovery_rate:.1f}%")

# 3) "영국" 데이터를 추가하라: 확진자 312654, 사망자 43730, 완치자 1356
covid_detail[___] = ___

# 4) 전체 국가의 확진자 합계를 계산하라.
total = sum(___ for ___ in covid_detail.___())
print(f"\n전체 확진자 합계: {total:,}명")
```

---

## 체크리스트

도전 실습을 마친 후, 아래 항목을 스스로 확인하라.

- [ ] **도전 ①:** f-string 출력 결과가 예시와 동일하게 나오는가?
- [ ] **도전 ②:** 이동평균 리스트의 길이가 15인가?
- [ ] **도전 ③ Part A:** 치사율 계산 결과가 소수점 2자리로 나오는가?
- [ ] **도전 ③ Part B:** 중첩 딕셔너리에 "영국"이 정상 추가되었는가?

---

*다음 세션(세션 C)에서는 오류 수정 실습과 연습문제를 풀며 오늘 배운 내용을 정리한다.*
