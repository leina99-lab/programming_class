# 2주차 — **파이썬 기초 ②:** 자료구조

## 세션 C: **심화**(Advanced) + **연습문제**(Exercises)

---

# PART 1: **오류 수정**(Debug) 실습

아래 코드에는 의도적으로 오류가 삽입되어 있다. 오류를 찾아 수정하라.

---

### 디버그 ①: 리스트 관련 오류

```python
# 목표: 5개 국가의 확진자 수를 내림차순으로 정렬하고, 상위 3개국을 출력
cases = [523, 681, 445, 892, 1023]

# 오류가 있는 코드 (3곳을 수정하라)
cases.sort(reverse=true)           # 오류 1
top3 = cases[1:3]                  # 오류 2
print("상위 3개국:", top3)
total = cases.sum()                # 오류 3
print("총 확진자:", total)
```

**힌트:** `True`의 대소문자, 슬라이싱 범위, 내장 함수 vs 메서드를 확인하라.

---

### 디버그 ②: 딕셔너리 관련 오류

```python
# 목표: 국가별 확진자 수에서 최다 국가를 찾기
covid = {"한국": 5000, "미국": 85000, "일본": 15000}

# 오류가 있는 코드 (3곳을 수정하라)
covid("영국") = 30000              # 오류 1
all_values = covid.value()         # 오류 2
max_country = max(covid, key=covid.get)
print(f"최다: {max_country} ({covid[max_country]}명)")

for country in covid.key():        # 오류 3
    print(f"  {country}: {covid[country]:,}명")
```

**힌트:** 딕셔너리 접근 방식, 메서드 이름의 단수/복수를 확인하라.

---

### 디버그 ③: 튜플·집합 관련 오류

```python
# 목표: 튜플 언패킹과 집합 연산
data = ("한국", 5000, 247)

# 오류가 있는 코드 (3곳을 수정하라)
country, cases = data              # 오류 1: 변수 수 불일치

A = {"사과", "바나나", "포도"}
B = {"바나나", "딸기", "포도"}

common = A and B                    # 오류 2: 논리 연산자 vs 집합 연산자
print("공통:", common)

A.append("수박")                    # 오류 3: 집합에 없는 메서드
print("추가 후:", A)
```

**힌트:** 튜플 언패킹의 변수 수, 교집합 연산자, 집합 추가 메서드를 확인하라.

---

### 디버그 ④: 종합 오류

```python
# 목표: 리스트와 딕셔너리를 결합한 데이터 처리
countries = ["한국", "미국", "일본"]
cases_list = [5000, 85000, 15000]

# 오류가 있는 코드 (4곳을 수정하라)
covid_dict = {}
for i in range(len(countries)):
    covid_dict[countries(i)] = cases_list[i]    # 오류 1

total = sum(covid_dict.values)                   # 오류 2

avg = total / len(covid_dict)
above_avg = []
for country, cases in covid_dict.items():
    if cases > avg
        above_avg.append(country)                # 오류 3 (위 줄)

print("평균 이상:", above_avg)
print("결과: " + len(above_avg) + "개국")       # 오류 4
```

---

# PART 2: **연습문제** (12문항)

---

### 문제 1. 리스트 인덱싱과 슬라이싱

다음 리스트에서 요구하는 값을 출력하라.

```python
data = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]
```

(a) 세 번째 요소를 출력하라.
(b) 마지막 세 요소를 슬라이싱하라.
(c) 짝수 인덱스(0, 2, 4, ...)의 요소만 출력하라.
(d) 리스트를 역순으로 출력하라.

---

### 문제 2. 리스트 메서드 활용

아래 리스트에 대해 지시된 작업을 순서대로 수행하라.

```python
scores = [78, 92, 65, 88, 71, 95, 83]
```

(a) 점수 100을 리스트 끝에 추가하라.
(b) 최저 점수를 찾아 제거하라.
(c) 내림차순으로 정렬하라.
(d) 상위 3개 점수의 평균을 계산하라.

---

### 문제 3. 중첩 리스트

다음 중첩 리스트에서 요구하는 값을 추출하라.

```python
matrix = [
    [1, 2, 3],
    [4, 5, 6],
    [7, 8, 9]
]
```

(a) 숫자 `5`를 출력하라.
(b) 세 번째 행 `[7, 8, 9]`를 출력하라.
(c) 각 행의 합을 담은 리스트 `[6, 15, 24]`를 만들어라.
(d) 대각선 요소 `[1, 5, 9]`를 추출하라.

---

### 문제 4. 튜플의 특성

다음 코드의 실행 결과를 예측하고, 오류가 발생하는 경우 그 이유를 설명하라.

```python
t = (1, 2, [3, 4])

# (a)
print(t[2])

# (b)
t[0] = 10

# (c)
t[2].append(5)
print(t)

# (d)
t[2] = [6, 7]
```

---

### 문제 5. 딕셔너리 생성과 조작

학생 5명의 이름과 점수를 딕셔너리로 관리하라.

```python
students = {"김철수": 85, "이영희": 92, "박민수": 78, "정다은": 95, "최준혁": 88}
```

(a) "정다은"의 점수를 출력하라.
(b) "한소희"(점수 90)를 추가하라.
(c) 모든 학생의 평균 점수를 계산하라.
(d) 평균 이상인 학생의 이름과 점수를 출력하라.

---

### 문제 6. 딕셔너리와 리스트의 결합

다음 두 리스트를 하나의 딕셔너리로 합쳐라.

```python
countries = ["한국", "미국", "일본", "영국", "독일"]
populations = [5180, 33100, 12600, 6720, 8320]  # 만 명 단위
```

(a) `zip()`을 사용하여 `{"한국": 5180, "미국": 33100, ...}` 형태의 딕셔너리를 만들어라.
(b) 인구가 가장 많은 국가를 출력하라.
(c) 인구가 1억(10000만) 이상인 국가만 출력하라.

---

### 문제 7. 집합 연산

```python
set_A = {1, 2, 3, 4, 5, 6, 7, 8}
set_B = {5, 6, 7, 8, 9, 10, 11, 12}
```

(a) 교집합을 구하라.
(b) 합집합을 구하라.
(c) A에만 있는 원소를 구하라.
(d) `set_A`가 `{5, 6}`의 상위집합(superset)인지 확인하라.

---

### 문제 8. 리스트에서 중복 제거

다음 리스트의 중복을 제거하되, 원래 순서를 유지한 결과를 출력하라.

```python
data = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]
```

**힌트:** `set`은 순서를 보장하지 않으므로, 빈 리스트와 집합을 함께 활용하라.

기대 출력: `[3, 1, 4, 5, 9, 2, 6]`

---

### 문제 9. 불리언과 조건 판단

다음 코드의 출력 결과를 예측하라.

```python
a = [1, 2, 3]
b = [1, 2, 3]
c = a

print(a == b)       # (a)
print(a is b)       # (b)
print(a is c)       # (c)
print(a == c)       # (d)

c[0] = 999
print(a)            # (e)
print(b)            # (f)
```

---

### 문제 10. 종합 — 코로나19 데이터 분석

아래 데이터를 활용하여 요구 사항을 모두 수행하라.

```python
# 10일간 확진자 수
daily = [523, 681, 445, 892, 1023, 756, 634, 812, 567, 934]

# 국가별 확진자 수
by_country = {
    "한국": 34571, "미국": 1850000, "일본": 18723,
    "영국": 312654, "브라질": 923189
}
```

(a) `daily`에서 800 이상인 날의 확진자 수만 담은 리스트를 만들어라.
(b) `daily`의 5일 이동평균 리스트를 계산하라. (결과 길이: 6)
(c) `by_country`에서 확진자 수가 10만 이상인 국가만 담은 딕셔너리를 만들어라.
(d) `by_country`의 확진자 수를 기준으로 내림차순 정렬된 리스트를 만들어라.
    (형태: `[("미국", 1850000), ("브라질", 923189), ...]`)

---

### 문제 11. **copy()** 심화

다음 코드의 출력을 예측하고, 이유를 설명하라.

```python
import copy

original = [[1, 2], [3, 4], [5, 6]]

shallow = original.copy()
deep = copy.deepcopy(original)

original[0][0] = 999

print(shallow[0][0])   # (a)
print(deep[0][0])      # (b)
```

**힌트:** `copy()`는 **얕은 복사**(Shallow Copy)이고, `deepcopy()`는 **깊은 복사**(Deep Copy)이다. 중첩된 리스트에서 차이가 발생한다.

---

### 문제 12. 종합 도전 — 간이 주소록 프로그램

딕셔너리를 활용하여 아래 기능을 가진 주소록을 작성하라.

```
=== 주소록 프로그램 ===
다음 기능 중 하나를 선택하세요:
1. 연락처 추가
2. 연락처 검색
3. 연락처 삭제
4. 전체 목록 출력
5. 종료
```

**요구 사항:**
- 딕셔너리 `contacts = {}`에 `{이름: 전화번호}` 형태로 저장한다.
- 이름으로 검색 시 없으면 "찾을 수 없습니다."를 출력한다.
- 전체 목록은 이름 순으로 정렬하여 출력한다.
- `while`문과 `if`문을 활용한다. (3주차 미리보기)

---

# PART 3: **연습문제 해답**

---

### 해답 1. 리스트 인덱싱과 슬라이싱

```python
data = [10, 20, 30, 40, 50, 60, 70, 80, 90, 100]

# (a) 세 번째 요소
print(data[2])              # 30

# (b) 마지막 세 요소
print(data[-3:])            # [80, 90, 100]

# (c) 짝수 인덱스
print(data[::2])            # [10, 30, 50, 70, 90]

# (d) 역순
print(data[::-1])           # [100, 90, 80, 70, 60, 50, 40, 30, 20, 10]
```

---

### 해답 2. 리스트 메서드 활용

```python
scores = [78, 92, 65, 88, 71, 95, 83]

# (a) 100 추가
scores.append(100)
print(scores)               # [78, 92, 65, 88, 71, 95, 83, 100]

# (b) 최저 점수 제거
scores.remove(min(scores))
print(scores)               # [78, 92, 88, 71, 95, 83, 100]

# (c) 내림차순 정렬
scores.sort(reverse=True)
print(scores)               # [100, 95, 92, 88, 83, 78, 71]

# (d) 상위 3개 평균
top3_avg = sum(scores[:3]) / 3
print(top3_avg)             # 95.67
```

---

### 해답 3. 중첩 리스트

```python
matrix = [[1, 2, 3], [4, 5, 6], [7, 8, 9]]

# (a) 숫자 5
print(matrix[1][1])         # 5

# (b) 세 번째 행
print(matrix[2])            # [7, 8, 9]

# (c) 각 행의 합
row_sums = [sum(row) for row in matrix]
print(row_sums)             # [6, 15, 24]

# (d) 대각선 요소
diagonal = [matrix[i][i] for i in range(len(matrix))]
print(diagonal)             # [1, 5, 9]
```

---

### 해답 4. 튜플의 특성

```python
t = (1, 2, [3, 4])

# (a) [3, 4] 출력 — 정상 작동
# (b) TypeError — 튜플의 요소는 변경 불가
# (c) (1, 2, [3, 4, 5]) — 리스트 자체는 변경 가능(튜플이 가리키는 참조는 불변)
# (d) TypeError — 튜플의 요소를 다른 객체로 교체하는 것은 불가
```

---

### 해답 5. 딕셔너리 생성과 조작

```python
students = {"김철수": 85, "이영희": 92, "박민수": 78, "정다은": 95, "최준혁": 88}

# (a)
print(students["정다은"])    # 95

# (b)
students["한소희"] = 90

# (c)
avg = sum(students.values()) / len(students)
print(f"평균: {avg:.1f}")   # 88.0

# (d)
for name, score in students.items():
    if score >= avg:
        print(f"  {name}: {score}")
# 이영희: 92, 정다은: 95, 최준혁: 88, 한소희: 90
```

---

### 해답 6. 딕셔너리와 리스트의 결합

```python
countries = ["한국", "미국", "일본", "영국", "독일"]
populations = [5180, 33100, 12600, 6720, 8320]

# (a)
pop_dict = dict(zip(countries, populations))
print(pop_dict)

# (b)
max_country = max(pop_dict, key=pop_dict.get)
print(f"인구 최다: {max_country} ({pop_dict[max_country]}만 명)")

# (c)
big_countries = {k: v for k, v in pop_dict.items() if v >= 10000}
print(big_countries)   # {"미국": 33100, "일본": 12600}
```

---

### 해답 7. 집합 연산

```python
set_A = {1, 2, 3, 4, 5, 6, 7, 8}
set_B = {5, 6, 7, 8, 9, 10, 11, 12}

# (a) 교집합
print(set_A & set_B)         # {5, 6, 7, 8}

# (b) 합집합
print(set_A | set_B)         # {1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12}

# (c) A에만 있는 원소
print(set_A - set_B)         # {1, 2, 3, 4}

# (d) 상위집합 확인
print(set_A >= {5, 6})       # True (또는 set_A.issuperset({5, 6}))
```

---

### 해답 8. 중복 제거 (순서 유지)

```python
data = [3, 1, 4, 1, 5, 9, 2, 6, 5, 3, 5]

seen = set()
unique = []
for x in data:
    if x not in seen:
        seen.add(x)
        unique.append(x)

print(unique)   # [3, 1, 4, 5, 9, 2, 6]
```

---

### 해답 9. 불리언과 조건 판단

```python
a = [1, 2, 3]
b = [1, 2, 3]
c = a

# (a) True  — 값이 동일
# (b) False — 서로 다른 객체
# (c) True  — 같은 객체를 참조
# (d) True  — 값이 동일

c[0] = 999
# (e) [999, 2, 3] — c와 a는 같은 객체이므로 a도 변경
# (f) [1, 2, 3]   — b는 별개의 객체이므로 영향 없음
```

---

### 해답 10. 종합 — 코로나19 데이터 분석

```python
daily = [523, 681, 445, 892, 1023, 756, 634, 812, 567, 934]
by_country = {
    "한국": 34571, "미국": 1850000, "일본": 18723,
    "영국": 312654, "브라질": 923189
}

# (a) 800 이상인 날
high_days = [x for x in daily if x >= 800]
print(high_days)            # [892, 1023, 812, 934]

# (b) 5일 이동평균
ma5 = [round(sum(daily[i:i+5])/5, 1) for i in range(len(daily)-4)]
print(ma5)                  # [712.8, 759.4, 750.0, 823.4, 758.4, 740.6]

# (c) 확진자 10만 이상
big = {k: v for k, v in by_country.items() if v >= 100000}
print(big)                  # {"미국": 1850000, "영국": 312654, "브라질": 923189}

# (d) 내림차순 정렬
ranked = sorted(by_country.items(), key=lambda x: x[1], reverse=True)
print(ranked)
# [("미국", 1850000), ("브라질", 923189), ("영국", 312654),
#  ("한국", 34571), ("일본", 18723)]
```

---

### 해답 11. copy() 심화

```python
import copy

original = [[1, 2], [3, 4], [5, 6]]
shallow = original.copy()
deep = copy.deepcopy(original)

original[0][0] = 999

# (a) 999 — 얕은 복사는 내부 리스트의 참조를 공유하므로 함께 변경된다.
# (b) 1   — 깊은 복사는 내부 리스트까지 완전히 새로 복사하므로 영향 없다.
```

---

### 해답 12. 간이 주소록 프로그램

```python
contacts = {}

while True:
    print("\n=== 주소록 프로그램 ===")
    print("1. 연락처 추가")
    print("2. 연락처 검색")
    print("3. 연락처 삭제")
    print("4. 전체 목록 출력")
    print("5. 종료")

    choice = input("선택: ")

    if choice == "1":
        name = input("이름: ")
        phone = input("전화번호: ")
        contacts[name] = phone
        print(f"'{name}' 추가 완료.")

    elif choice == "2":
        name = input("검색할 이름: ")
        if name in contacts:
            print(f"  {name}: {contacts[name]}")
        else:
            print("찾을 수 없습니다.")

    elif choice == "3":
        name = input("삭제할 이름: ")
        if name in contacts:
            del contacts[name]
            print(f"'{name}' 삭제 완료.")
        else:
            print("찾을 수 없습니다.")

    elif choice == "4":
        if not contacts:
            print("주소록이 비어 있습니다.")
        else:
            for name in sorted(contacts.keys()):
                print(f"  {name}: {contacts[name]}")

    elif choice == "5":
        print("프로그램을 종료합니다.")
        break

    else:
        print("잘못된 입력입니다. 1~5 중 선택하세요.")
```

---

# PART 4: 디버그 실습 해답

### 디버그 ① 해답

```python
cases = [523, 681, 445, 892, 1023]
cases.sort(reverse=True)        # 수정 1: true → True
top3 = cases[:3]                # 수정 2: [1:3] → [:3]
print("상위 3개국:", top3)
total = sum(cases)              # 수정 3: cases.sum() → sum(cases)
print("총 확진자:", total)
```

### 디버그 ② 해답

```python
covid = {"한국": 5000, "미국": 85000, "일본": 15000}
covid["영국"] = 30000           # 수정 1: covid("영국") → covid["영국"]
all_values = covid.values()     # 수정 2: .value() → .values()
max_country = max(covid, key=covid.get)
print(f"최다: {max_country} ({covid[max_country]}명)")
for country in covid.keys():    # 수정 3: .key() → .keys()
    print(f"  {country}: {covid[country]:,}명")
```

### 디버그 ③ 해답

```python
data = ("한국", 5000, 247)
country, cases, deaths = data   # 수정 1: 변수 3개로 언패킹

A = {"사과", "바나나", "포도"}
B = {"바나나", "딸기", "포도"}
common = A & B                  # 수정 2: and → &
print("공통:", common)

A.add("수박")                   # 수정 3: .append() → .add()
print("추가 후:", A)
```

### 디버그 ④ 해답

```python
countries = ["한국", "미국", "일본"]
cases_list = [5000, 85000, 15000]

covid_dict = {}
for i in range(len(countries)):
    covid_dict[countries[i]] = cases_list[i]    # 수정 1: countries(i) → countries[i]

total = sum(covid_dict.values())                 # 수정 2: .values → .values()

avg = total / len(covid_dict)
above_avg = []
for country, cases in covid_dict.items():
    if cases > avg:                              # 수정 3: 콜론(:) 추가
        above_avg.append(country)

print("평균 이상:", above_avg)
print("결과: " + str(len(above_avg)) + "개국")  # 수정 4: len()을 str()로 변환
```

---

## 2주차 핵심 정리

| 자료구조 | 기호 | 순서 | 변경 | 중복 | 핵심 용도 |
|---|---|---|---|---|---|
| **리스트**(List) | `[ ]` | ✅ | ✅ | ✅ | 범용 데이터 모음 |
| **튜플**(Tuple) | `( )` | ✅ | ❌ | ✅ | 변하면 안 되는 데이터 |
| **딕셔너리**(Dict) | `{k:v}` | ✅ | ✅ | 키 ❌ | 이름-값 매핑 |
| **집합**(Set) | `{ }` | ❌ | ✅ | ❌ | 중복 제거, 집합 연산 |

---

*3주차에서는 제어문(if, while, for), 함수, 컴프리헨션, 예외처리를 학습한다.*
